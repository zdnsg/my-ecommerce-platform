电商管理平台 - 产品需求文档 (PRD)

版本: 1.5 (扩展版)
日期: 2025年11月10日

1. 项目概述

1.1 项目目标

本项目旨在构建一个功能完善、易于管理、体验流畅、安全可靠的B2C电商平台。

对于用户（买家）： 提供直观、美观、响应迅速的购物界面，支持多设备访问（Web/H5），确保从浏览到支付的购物流程顺畅无阻。

对于管理员（卖家）： 提供一个功能强大且操作便捷的后台管理系统，实现高效的商品管理、订单处理和数据分析，支撑日常运营。

对于平台： 确保系统架构稳定、可扩展，保障用户数据和交易信息的安全。

1.2 核心模块

本项目包含以下五个高度关联的核心模块：

用户模块 (登录注册): 平台的基础，管理所有用户身份和权限。

商品模块 (商品展示): 电商的核心，负责商品信息的呈现和分类。

购物车模块 (加购): 连接商品和订单的桥梁，提供意向购买商品的暂存服务。

订单模块 (下单): 交易流程的核心，处理从创建订单到完成支付的闭环。

后台管理模块: 平台的运营中枢，支撑所有前台功能的后台配置与管理。

2. 核心模块需求与验收标准

2.1 用户模块 (登录/注册)

模块描述: 提供用户访问平台和进行购买的基础认证功能，并管理用户个人信息。

2.1.1 功能需求 (FR)

FR1 (注册): 用户应能通过手机号或邮箱进行注册。

FR1.1: 注册时需提供用户名（唯一）、密码（并确认密码）、手机号/邮箱。

FR1.2: 系统需发送短信验证码或邮件验证链接/验证码，以验证其真实性。验证码有5分钟有效期。

FR1.3: 密码需进行加盐哈希 (Salted Hash) 加密存储，禁止明文存储。

FR1.4: 注册时应有密码强度提示（如：低、中、高），并强制要求密码长度不少于8位，且包含字母和数字。

FR1.5: (可选) 支持第三方社交账号（如微信）一键注册/登录。

FR2 (登录): 已注册用户应能使用手机号/邮箱/用户名和密码登录。

FR2.1: 提供“忘记密码”功能，允许用户通过已验证的手机/邮箱接收验证码，以重置密码。

FR2.2: 提供“保持登录”选项（例如7天免登录）。

FR2.3: 登录失败5次后，账号应临时锁定15分钟，并显示图形验证码。

FR3 (用户中心): 登录后，用户应能访问个人中心。

FR3.1: 查看和编辑个人基本信息（如昵称、头像上传）。

FR3.2: 收货地址管理： 核心功能。支持对多个收货地址进行增、删、改、查。

FR3.3: 支持设置一个“默认收货地址”。

FR4 (退出登录): 用户应能随时安全退出登录，清除本地登录凭证。

2.1.2 验收标准 (AC)

AC1 (注册):

成功注册后，用户状态变为“已登录”并跳转到首页，同时（如果使用购物车）合并游客购物车数据。

输入无效手机号/邮箱（格式错误）时，输入框下方实时提示错误。

输入已存在的用户名/手机号/邮箱时，提交时提示“该用户/手机号/邮箱已被注册”。

两次输入密码不一致时，“确认密码”框下方实时提示错误。

验证码输入错误或过期时，提示“验证码错误或已失效”。

密码未达到强度要求时，提交时提示“密码必须不少于8位，且包含字母和数字”。

AC2 (登录):

输入正确的凭证后，成功登录并跳转到登录前页面或首页。

输入错误的用户名或密码时，提示“用户名或密码错误”，不清空已输入内容（密码除外）。

账号被锁定时，登录按钮置灰，显示“账号已锁定，请15分钟后再试”。

AC3 (用户中心):

用户可以成功添加最多10条收货地址。

用户可以成功修改昵称，昵称需进行敏感词过滤。

用户设置“默认地址”后，该地址在地址列表中置顶显示，并在下单时优先预填。

删除地址时，需有二次确认弹窗。

2.2 商品模块 (商品展示)

模块描述: 向用户清晰、有吸引力地展示可供购买的商品，并引导用户决策。

2.2.1 功能需求 (FR)

FR1 (商品列表页 - PLP):

FR1.1: 以网格（默认）或列表形式展示商品列表，提供切换按钮。

FR1.2: 每个商品项应显示主图、商品名称、价格（如有折扣，显示划线原价和折后价）、月销量（可选）。

FR1.3: 筛选: 支持按分类筛选。如果分类有子类，应支持多级展开。支持按品牌、价格区间等其他属性筛选。

FR1.4: 排序: 支持按“综合推荐”、“销量”、“价格（升序/降序）”、“上新时间”排序。

FR1.5: 搜索: 支持关键词搜索商品，搜索框应有历史记录和热门搜索词提示。

FR1.6: 加载: 支持分页加载（底部显示页码）或无限滚动加载。

FR1.7: 商品若已售罄，应在主图上蒙层显示“已售罄”字样。

FR1.8: (可选) 提供“快速加入购物车”按钮（仅对无SKU或有默认SKU的商品有效）。

FR2 (商品详情页 - PDP):

FR2.1: 点击列表页商品可进入详情页。

FR2.2: 主图区: 展示商品轮播图（支持手势滑动），支持视频（首图位置）。

FR2.3: 价格/标题区: 展示商品完整标题、价格（原价/折后价）、(可选)促销活动标签。

FR2.4: SKU选择: 如果商品有多种规格（如颜色、尺码），需提供清晰的 SKU 选择器。

FR2.5: 选择不同 SKU 时，价格、库存（如：仅剩N件）和主图（如有对应SKU图）应实时联动更新。

FR2.6: 详情区: 展示商品详细描述（支持图文混排的富文本）。

FR2.7: 评价区: 展示用户评价（列表形式，包含评分、评论内容、用户、时间），并显示好评率和评价标签。

FR2.8: (可选) 推荐模块：如“猜你喜欢”、“购买此商品的人还买了”。

2.2.2 验收标准 (AC)

AC1 (PLP):

搜索、筛选、排序功能均能正确返回结果，且多个筛选条件可以叠加生效。

“已售罄”商品不可点击“快速加入购物车”。

分页/无限滚动加载流畅，无重复数据。

AC2 (PDP):

轮播图可以正常切换，视频可以正常播放。

SKU 选择器中：

当选择某个规格（如“红色”）时，其他规格中不可用的组合（如“红色”没有“XXL”码）应置灰不可选。

所有规格选择完毕后，价格、库存、图片正确显示。

已售罄的 SKU 组合应置灰或不可选。

“加入购物车”和“立即购买”按钮，在未选定完整 SKU 时应置灰，或点击时弹出提示“请选择规格”。

商品详情富文本内容能正确解析显示，图片按比例缩放。

评价列表能分页加载。

2.3 购物车模块 (加购)

模块描述: 允许用户临时存储意向购买的商品，并进行分组、编辑和批量结算。

2.3.1 功能需求 (FR)

FR1 (添加商品):

FR1.1: 在 PDP，用户选择规格和数量后，点击“加入购物车”。

FR1.2: 添加成功后应有明显提示（如：顶部toast提示“添加成功”或“加购”按钮变为“已添加”）。

FR1.3: 底部导航栏的购物车图标应实时显示商品总数量角标（非种类）。

FR2 (查看购物车):

FR2.1: 用户可进入购物车页面，查看所有已添加的商品列表。

FR2.2: (可选) 商品按店铺或活动分组。

FR2.3: 购物车页面应有“空购物车”状态（显示“购物车是空的”和“去逛逛”按钮）。

FR3 (编辑购物车):

FR3.1: 在购物车页面，可修改商品数量（通过加减按钮或手动输入）。

FR3.2: 可删除单个商品（左滑或点击编辑）。

FR3.3: 可进入“管理”模式，支持批量勾选商品进行删除。

FR3.4: 结算:

每项商品前有勾选框，默认为勾选。

底部结算栏提供“全选”按钮。

底部结算栏实时计算并显示已勾选商品的总价（不含运费）。

FR4 (数据同步):

FR4.1: 未登录时加入购物车的商品，存储于本地（如 LocalStorage）。

FR4.2: 用户登录后，系统应提示是否将本地购物车合并到账户购物车中。合并时，相同SKU的商品数量累加。

FR5 (状态处理):

FR5.1: 购物车中的商品，如果价格变动或已下架/售罄，应在商品行中明显提示（如：“已降价”、“已失效”），已失效商品不可被勾选。

2.3.2 验收标准 (AC)

AC1 (添加):

同一商品（相同SKU）多次添加，购物车中只显示一条记录，数量累加。

不同 SKU 的商品添加，视为两条不同记录。

添加商品数量超过库存时，应提示“库存不足，最多可添加N件”。

AC2 (编辑):

修改数量时，总价实时更新。加减按钮在达到库存上限或1时，应置灰。

勾选/取消勾选商品时，总价和“全选”按钮状态实时更新。

“全选”按钮能正确勾选/取消勾选所有（未失效）商品。

AC3 (结算):

点击“结算”按钮时，只携带已勾选的商品进入订单确认页。

若未勾选任何商品，点击“结算”应提示“请选择要结算的商品”，按钮置灰。

AC4 (同步/状态):

登录后，购物车合并逻辑正确。

已失效商品呈灰色，不可操作，并提示用户“清理失效商品”。

2.4 订单模块 (下单)

模块描述: 用户确认购买信息、选择支付方式并完成支付，平台生成并流转有效订单。

2.4.1 功能需求 (FR)

FR1 (订单确认页):

FR1.1: 从购物车结算或在 PDP 点击“立即购买”后，进入此页面。

FR1.2: 地址: 必须显示默认收货地址，并提供切换/新增地址的入口。若无地址，应强制引导用户添加。

FR1.3: 商品清单: 列表显示待结算的商品信息（名称、规格、数量、单价、小计）。

FR1.4: 优惠: (可选) 优惠券选择、积分抵扣。

FR1.5: 配送: (可选) 配送方式选择（如：快递、自提）。

FR1.6: 备注: 提供“订单备注”输入框，供用户填写特殊要求。

FR1.7: 金额明细: 清晰显示订单总金额，包括：商品总额、运费（+）、优惠金额（-）。

FR2 (创建订单):

FR2.1: 用户点击“提交订单”后，系统生成订单，状态为“待支付”。

FR2.2: 库存校验: 提交订单时，必须进行最终库存校验（防止超卖）。

FR2.3: 订单超时: 待支付订单应有支付时限（如30分钟），超时后订单自动取消，并释放库存。

FR3 (支付): (假设集成第三方支付如微信、支付宝)

FR3.1: 提交订单后跳转到支付选择页（或收银台），显示倒计时。

FR3.2: 支付成功后，系统接收支付回调，订单状态自动更新为“待发货”。

FR3.3: 支付失败或取消支付，订单状态仍为“待支付”，用户可在订单列表页“待支付”分类中找到该订单重新支付。

FR4 (订单列表):

FR4.1: 用户可在“我的订单”中查看所有订单。

FR4.2: 支持按状态（全部、待支付、待发货、待收货、待评价、已完成、已取消）筛选。

FR4.3: 支持按订单号或商品名称搜索订单。

FR5 (订单操作):

FR5.1: (待支付) 可进行“取消订单”或“去支付”。

FR5.2: (待发货) 可进行“提醒发货”（可选，限制频率）。

FR5.3: (待收货) 可进行“确认收货”和“查看物流”（跳转到物流详情页）。

FR5.4: (待评价/已完成) 可进行“评价商品”、“申请售后”（退款/退货）。

FR5.5: 任何状态都应支持“查看详情”。

2.4.2 验收标准 (AC)

AC1 (创建订单):

提交订单时，若未选收货地址，提交失败并提示。

提交订单时，若库存不足，提交失败并提示用户“部分商品库存不足，请返回购物车修改”。

订单生成后，购物车中对应的已结算商品被正确清空。

“立即购买”流程生成的订单不影响购物车数据。

AC2 (支付):

支付成功的回调能正确更新订单状态为“待发货”。

“待支付”订单超过30分钟后，状态自动变为“已取消”。

AC3 (订单列表): 订单列表按状态筛选功能正常，订单信息展示清晰，搜索功能可用。

AC4 (操作):

“取消订单”（待支付）操作后，订单状态变为“已取消”，库存回滚（如有）。

“确认收货”（待收货）操作后，订单状态变为“待评价”（或“已完成”，取决于是否有评价模块）。

2.5 后台管理模块

模块描述: 平台管理员（卖家）用于维护商品、处理订单和管理用户的核心后台。

2.5.1 功能需求 (FR)

FR1 (安全/登录): 管理员需使用专属账号密码登录后台，后台地址应与前台分离。支持多角色权限管理（如：超级管理员、运营、客服）。

FR2 (数据看板 - 首页):

FR2.1: 展示核心运营数据：今日订单数、今日销售额、待处理事务（待发货订单数、待处理售后数）、新增用户数。

FR2.2: (可选) 提供销售趋势图表（近7天/30天）。

FR3 (商品管理):

FR3.1: 分类管理: 支持商品分类的增、删、改、查（树形结构）。

FR3.2: 商品列表: 查看所有商品，支持按分类、商品名称/ID、上下架状态搜索。

FR3.3: 新增/编辑商品:

需支持填写：标题、分类、主图、轮播图（支持拖拽排序）、详情描述（使用富文本编辑器）、价格、库存。

SKU管理: 核心。支持单规格和多规格（如颜色、尺码）配置。支持为不同 SKU 设置不同的价格、库存和图片。

FR3.4: 操作: 支持商品“上架”、“下架”操作。支持（逻辑）删除。支持批量上/下架。

FR4 (订单管理):

FR4.1: 订单列表: 查看所有订单列表，并支持按状态、订单号、用户手机号、下单时间范围搜索。

FR4.2: 发货: 对“待发货”订单进行“发货”操作（需选择物流公司并填写物流单号）。支持批量发货。

FR4.3: 查看详情: 查看订单详情（包含商品信息、收货人信息、支付信息、物流信息）。

FR4.4: 售后处理: (可选) 处理用户的退款/退货申请（同意/拒绝）。

FR4.5: 订单导出: 支持按筛选条件导出订单列表为 Excel/CSV 文件。

FR5 (用户管理):

FR5.1: 用户列表: 查看用户列表，支持按手机号、用户名、注册时间搜索。

FR5.2: 操作: 可对用户进行“禁用/启用”操作。

FR5.3: 查看详情: 查看用户详细信息及其历史订单。

2.5.2 验收标准 (AC)

AC1 (商品管理):

成功发布一个包含多规格 (SKU) 的商品，前台能正确展示所有 SKU 选项，并且价格、库存联动正确。

富文本编辑器上传的图片和排版在前台详情页能正确渲染。

“下架”商品后，前台列表页和详情页均不可见（或提示已下架），且购物车中该商品失效。

AC2 (订单管理):

对“待发货”订单执行“发货”操作后，前台用户看到的订单状态立即变为“待收货”，并能查到正确的物流信息。

订单搜索功能可用且准确。

订单导出功能正常，导出的文件包含所有关键字段。

AC3 (用户管理):

“禁用”用户后，该用户无法登录前台，并提示“您的账号已被禁用”。

用户搜索功能可用且准确。

3. 关键页面原型描述 (概念)

P1: 首页 (Home)

布局: 顶部为固定搜索框（内含占位符如“搜索商品”）。

内容: Banner 轮播图（带指示点）、核心商品分类入口（图标宫格，如8-10个）、促销活动板块（图片横幅）、“热门推荐”/“新品上市”商品流（瀑布流或卡片列表）。

导航: 底部 Tab Bar (固定)：首页、分类、购物车(带角标)、我的。

P2: 商品列表页 (PLP)

布局: 顶部为搜索框/返回按钮。下方为筛选栏，包含“综合”、“销量”、“价格（带上下箭头）”、“筛选（点击弹窗）”四个tab。

内容: 商品卡片网格。若切换为列表模式，则每行左图右文。

交互: 滚动到底部自动加载下一页，并显示“加载中...”提示。加载失败时显示“点击重试”。

筛选弹窗: “筛选”点击后，从右侧滑出或底部弹出半屏弹窗，提供分类、品牌、价格区间（手动输入或滑块）等选项，底部有“重置”和“确认”按钮。

P3: 商品详情页 (PDP)

布局: 顶部为商品轮播图（显示 1/N 指示器）。

内容: 中部为价格（突出显示）、标题、(可选)优惠信息标签。下方为“选择 规格/数量”入口（点击弹窗）、商品详情（富文本）、用户评价。

交互:

底部固定操作栏：“客服”、“购物车”（图标）、“加入购物车”、“立即购买”按钮。

点击“选择规格”或“加入购物车”/“立即购买”（在未选规格时），从底部弹出 SKU 选择器（半屏弹幕）。

SKU 弹窗：清晰展示各规格（如“颜色”、“尺码”），已选中的高亮，不可选的置灰。底部有数量加减器和“确认”按钮。

P4: 购物车 (Cart)

布局: 顶部为标题“购物车(N)”和“管理”按钮。

内容: 商品列表，每行包含：勾选框、商品图、标题、规格、价格、数量加减器。失效商品置灰，并显示“已失效”标签。

交互:

底部固定结算栏：左侧“全选”勾选框、中部“合计：¥XXXX”（实时计算）、右侧“结算(N)”按钮（N为勾选商品数）。

点击“管理”，“结算”按钮变为“删除”，“合计”隐藏。

空状态: 如购物车为空，则显示插图、文字“购物车还是空的哦”和“去逛逛”按钮。

P5: 订单确认页 (Checkout)

布局: 顶部显示收货地址卡片（包含姓名、电话、地址），卡片右侧有“>”箭头，点击可切换/管理地址。若无地址，则显示“+ 添加收货地址”按钮。

内容: 中部为商品清单（简版，图+文+规格+数量+价格）。下方为“配送方式”、“订单备注”、“优惠券”等行。

交互: 底部固定操作栏：左侧显示“应付总额：¥XXXX”，右侧为“提交订单”按钮。

P6: 后台 - 订单列表 (Admin)

布局: 标准后台布局：左侧为可折叠的菜单栏（首页、商品管理、订单管理、用户管理等），顶部为面包屑导航和管理员信息，右侧为主要内容区。

内容: 内容区顶部为搜索和筛选表单（多个输入框和下拉框，如订单号、用户手机、订单状态、下单时间范围选择器），右侧有“搜索”和“重置”按钮。

交互: 主体为表格（Table），列：订单号、用户信息、总金额、状态（用不同颜色标签显示）、下单时间、操作。

操作列: 包含“详情”（跳转新页）、“发货”（点击弹窗）。

发货弹窗: 弹出一个 Modal，要求选择物流公司（下拉框）并输入物流单号，底部有“取消”和“确认发货”按钮。